<div id="player"></div>

<script src="https://w.soundcloud.com/player/api.js"></script>
<script>
  const iframe = document.createElement('iframe');
  iframe.src = 'https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/1570885228&color=%23ff5500';
  iframe.width = '100%';
  iframe.height = '100';
  iframe.frameBorder = 'no';
  iframe.allow = 'autoplay';
  document.getElementById('player').appendChild(iframe);

  // SoundCloud API Player
  const player = SC.Widget(iframe);

  // Key for LocalStorage
  const LOCAL_STORAGE_KEY = 'soundcloud-current-time';

  // Restore playback position on load
  player.bind(SC.Widget.Events.READY, () => {
    const savedTime = localStorage.getItem(LOCAL_STORAGE_KEY);
    if (savedTime) {
      player.seekTo(savedTime);
    }
  });

  // Save playback position on time update
  player.bind(SC.Widget.Events.PLAY_PROGRESS, (event) => {
    localStorage.setItem(LOCAL_STORAGE_KEY, event.currentPosition);
  });

  document.addEventListener('', () => {
  player.play();
});
</script>
